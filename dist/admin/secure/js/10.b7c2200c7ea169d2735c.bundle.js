(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{321:function(e,t,a){"use strict";a.r(t);var i=a(309),n=(a(142),a(1)),s=a(83),l=a(0),c=(a(143),a(11)),o=a(10),r=a(2),d=a(16),b=a(63),u=(a(110),a(312),a(313)),j=a(198);function f({listKey:e,value:t,onAddUser:a,many:i,isDisabled:s}){const l="authenticated"+e,{data:u}=Object(d.useQuery)(d.gql`
    query User {
      ${l} {
        _label_
        id
      }
    }
  `);if(u&&u[l]){const e=u[l].id;if(null!==t&&(i?t.some(t=>t.id===e):t.id===e))return null;const d=`${i?"Add":"Set as"} ${u[l]._label_}`;return Object(n.jsx)(b.a,{placement:"top",content:d},e=>Object(n.jsx)(o.b,{css:{marginLeft:r.d},variant:"ghost",ref:e,onClick:()=>{a(u[l])},icon:c.l,"aria-label":d,isDisabled:s}))}return null}function m({field:e,value:t}){const{many:a}=e.config,{fullPath:i}=e.getRefList();let s,l=!1,d=i;return a?(s="View List of Related Items",t.length||(l=!0),d=`${d}?!id_in="${t.slice(0,100).map(({id:e})=>e).join(",")}"`):(s="View Item Details",t?d=`${d}/${t.id}`:l=!0),Object(n.jsx)(b.a,{placement:"top",content:s},e=>Object(n.jsx)(o.b,{ref:e,icon:c.j,"aria-label":s,variant:"ghost",css:{marginLeft:r.d},target:"_blank",to:d,isDisabled:l}))}function g({field:e,item:t,onCreate:a,isDisabled:s}){const{list:d,openCreateItemModal:u}=Object(j.e)();let f,m=e.getRefList(),g="Create and add "+m.singular;return t&&t.id&&(f=m.fields.filter(t=>"Relationship"===t.type&&t.config.ref===d.key&&t.config.refFieldPath===e.path).reduce((e,a)=>{const n={_label_:t._label_||"<link to parent>",id:t.id};return Object(i.a)(Object(i.a)({},e),{},{[a.path]:a.config.many?[n]:n})},{})),Object(n.jsx)(l.Fragment,null,Object(n.jsx)(b.a,{placement:"top",content:g},e=>Object(n.jsx)(o.b,{ref:e,onClick:u,icon:c.m,"aria-label":g,variant:"ghost",css:{marginLeft:r.d},isDisabled:s})),Object(n.jsx)(j.a,{prefillData:f,onCreate:({data:e})=>{a(e[m.gqlNames.createMutationName])}}))}t.default=({autoFocus:e,field:t,value:a=[],renderContext:i,errors:l,onChange:c,item:o,list:r,isDisabled:d})=>{const{many:b,ref:O}=t.config,{authStrategy:p}=Object(j.d)(),x="ks-input-"+t.path,h=t.getRefList();return Object(n.jsx)(s.a,null,Object(n.jsx)(s.d,{htmlFor:x,field:t,errors:l}),Object(n.jsx)(s.b,{text:t.adminDoc}),Object(n.jsx)(s.c,null,Object(n.jsx)("div",{css:{flex:1}},Object(n.jsx)(u.a,{autoFocus:e,isMulti:b,field:t,value:a,errors:l,renderContext:i,htmlID:x,onChange:e=>{const{many:a}=t.config;c(a?e?e.map(e=>e.value):[]:e?e.value:null)},isDisabled:d})),Object(n.jsx)(j.b,{list:h},Object(n.jsx)(g,{onCreate:e=>{c(b?a.concat(e):e)},field:t,item:o,list:r,isDisabled:d})),p&&O===p.listKey&&Object(n.jsx)(f,{many:b,onAddUser:e=>{c(b?a.concat(e):e)},value:a,listKey:p.listKey,isDisabled:d}),Object(n.jsx)(m,{field:t,value:a})))}}}]);